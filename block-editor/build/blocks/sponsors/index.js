!function(){"use strict";var e={n:function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,{a:r}),r},d:function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.blocks;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,r,n,i,o,s){try{var c=e[o](s),a=c.value}catch(e){return void r(e)}c.done?t(a):Promise.resolve(a).then(n,i)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function c(e){i(s,n,o,c,a,"next",e)}function a(e){i(s,n,o,c,a,"throw",e)}c(void 0)}))}}var s=window.regeneratorRuntime,c=e.n(s),a=window.wp.i18n,l=window.wp.blockEditor,u=window.wp.components,p=window.wp.primitives,f=window.ReactJSXRuntime,m=(0,f.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(p.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})});function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}window.wp.element;var g=JSON.parse('{"UU":"kapital/sponsors"}');(0,t.registerBlockType)(g.UU,{edit:function(e){var t=e.attributes,r=e.setAttributes,n=1e4,i=[["core/paragraph",{placeholder:(0,a.__)("Popiska sponzora","kapital")}]],s=t.images.length>0,p=s?t.images:[];function d(_x){return b.apply(this,arguments)}function b(){return(b=o(c().mark((function e(t){var r,i,o,s,a,l,u,p,f,m,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=0;case 2:if(!(i<t.length)){e.next=26;break}if((o={}).id=t[i].id,o.src=t[i].url,"image/svg+xml"===t[i].mime){e.next=12;break}s=Math.sqrt(n/t[i].sizes.full.width/t[i].sizes.full.height),o.height=t[i].sizes.full.height*s,o.width=t[i].sizes.full.width*s,e.next=22;break;case 12:return e.next=14,fetch(t[i].url).then((function(e){return e.text()}));case 14:a=e.sent,l=String(a.match(/<svg[\s\S]*?>/i)),u=l.match(/width="[\s\S]*?"/i),(p=l.match(/height="[\s\S]*?"/i))&&u?(p=parseFloat(p[0].slice(8).replace('"',"").replace("px","")),u=parseFloat(u[0].slice(7).replace('"',"").replace("px",""))):(f=l.match(/viewBox=".*?"/i))?(m=f[0].slice(9).replace('"',"").split(" "),u=Number(m[2]),p=Number(m[3])):(u=1,p=1),d=Math.sqrt(n/p/u),o.height=p*d,o.width=u*d;case 22:r.push(o);case 23:i++,e.next=2;break;case 26:return e.abrupt("return",r);case 27:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(){var e=o(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:n=e.sent,r({images:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,f.jsx)("div",h(h({},(0,l.useBlockProps)({className:"bg-secondary rounded px-4 pt-4 ff-grotesk fw-bold lh-sm"})),{},{children:(0,f.jsxs)("div",{className:"row g-0 align-items-center",children:[(0,f.jsxs)("div",{className:"col-12 col-md-auto",children:[!s&&(0,f.jsx)("div",{className:"mb-4 me-4",children:(0,f.jsx)(l.MediaPlaceholder,{multiple:!0,allowedTypes:["image"],style:{maxWidth:"300px"},labels:{title:(0,a.__)("Logá sponzora","kapital")},onSelect:w})}),(0,f.jsxs)("div",{className:"d-flex flex-row flex-wrap flex-md-column position-relative align-items-center align-items-md-start",children:[s&&(0,f.jsx)(l.MediaUploadCheck,{children:(0,f.jsx)(l.MediaUpload,{multiple:!0,gallery:!0,onSelect:w,allowedTypes:["image"],value:p.map((function(e){return e.id})),render:function(e){var t=e.open;return(0,f.jsx)(u.Flex,{gap:1,style:{position:"absolute",zIndex:1,left:"4px",bottom:"4px"},justify:"left",children:(0,f.jsx)(u.Button,{label:(0,a.__)("Zmeniť logá","kapital"),style:{background:"white"},icon:m,onClick:t})})}})}),t.images.map((function(e,t){return(0,f.jsx)("img",{className:"mb-4 me-4 d-block",src:e.src,style:{width:"".concat(e.width,"px"),height:"".concat(e.height,"px")}},t)}))]})]}),(0,f.jsx)("div",{className:"col fs-6",children:(0,f.jsx)(l.InnerBlocks,{template:i})})]})}))},save:function(e){var t=e.attributes;return t.images,(0,f.jsx)("div",w(w({},l.useBlockProps.save({className:"bg-secondary rounded px-4 pt-4 ff-grotesk fw-bold lh-sm"})),{},{children:(0,f.jsxs)("div",{className:"row g-0 align-items-center",children:[(0,f.jsx)("div",{className:"col-12 col-md-auto",children:(0,f.jsx)("div",{className:"d-flex flex-wrap flex-row flex-md-column align-items-center align-items-md-start",children:t.images.map((function(e,t){return(0,f.jsx)("img",{className:"mb-4 me-4 d-block",src:e.src,style:{width:String(e.width)+"px",height:String(e.height)+"px"}},t)}))})}),(0,f.jsx)("div",{className:"col fs-6",children:(0,f.jsx)(l.InnerBlocks.Content,{})})]})}))}})}();