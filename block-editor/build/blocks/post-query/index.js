!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.blocks;function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t,o){return(t=function(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var o=t.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function r(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=window.wp.i18n,u=window.wp.components,c=window.wp.blockEditor,s=window.wp.serverSideRender,p=e.n(s),y=window.wp.coreData,d=window.wp.data,b=window.ReactJSXRuntime;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=JSON.parse('{"UU":"kapital/post-query"}');(0,t.registerBlockType)(m.UU,{edit:function(e){var t,n,o=e.attributes,a=e.setAttributes,s=e.context,f=(s.postId,s.postType),m=o.queryPostType,h=(t=(0,y.useEntityProp)("postType",f,"meta"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r,l,i=[],u=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(o=r.call(n)).done)&&(i.push(o.value),i.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(t,n)||r(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),k=h[0];h[1],console.log(o);var g=(0,d.useSelect)((function(e){return(0,e(y.store).getTaxonomies)({per_page:-1,type:m})}),[m]),v=(null!=g?g:[]).map((function(e){return{label:e.name,value:e.slug}})),x="h".concat(o.headingLevel),w=o.backgroundColor?"post-query alignfull py-5":"post-query alignfull";return(0,b.jsxs)("section",_(_({},(0,c.useBlockProps)({className:w})),{},{children:[(0,b.jsx)(c.InspectorControls,{children:(0,b.jsxs)(u.Panel,{children:[(0,b.jsxs)(u.PanelBody,{title:(0,i.__)("Filter","kapital"),children:[(0,b.jsx)(u.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Typ obsahu","kapital"),onChange:function(e){a({queryPostType:e}),a({taxonomy:"none"}),a({termQuery:""}),a({taxonomyExclude:"none"}),a({termQueryExclude:""})},value:o.queryPostType,options:[{label:(0,i.__)("Články","kapital"),value:"post"},{label:(0,i.__)("Podcasty","kapital"),value:"podcast"},{label:(0,i.__)("Eventy","kapital"),value:"event"}]}),"event"!==o.queryPostType&&(0,b.jsx)(u.SelectControl,{__nextHasNoMarginBottom:!0,multiple:!1,value:o.taxonomy,label:(0,i.__)("Typ filtra","kapital"),onChange:function(e){a({taxonomy:e}),a({termQuery:""})},options:[].concat(l(v),[{label:(0,i.__)("Žiaden","kapital"),value:"none"}])}),"none"!==o.taxonomy&&(0,b.jsx)(u.TextControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Slug kategórie z taxonómie:","kapital")+' "'+o.taxonomy+'"',value:o.termQuery,onChange:function(e){a({termQuery:e})},help:(0,i.__)("Viacero hodnôt oddeľte čiarkou","kapital")})]}),"event"!==o.queryPostType&&(0,b.jsxs)(u.PanelBody,{title:(0,i.__)("Vylučovací filter","kapital"),children:[(0,b.jsx)(u.SelectControl,{__nextHasNoMarginBottom:!0,multiple:!1,value:o.taxonomyExclude,label:(0,i.__)("Typ filtra","kapital"),onChange:function(e){a({taxonomyExclude:e}),a({termQueryExclude:""})},options:[].concat(l(v),[{label:(0,i.__)("Žiaden","kapital"),value:"none"}])}),"none"!==o.taxonomyExclude&&(0,b.jsx)(u.TextControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Slug kategórie z taxonómie:","kapital")+' "'+o.taxonomyExclude+'"',value:o.termQueryExclude,onChange:function(e){a({termQueryExclude:e})},help:(0,i.__)("Viacero hodnôt oddeľte čiarkou","kapital")})]}),(0,b.jsxs)(u.PanelBody,{title:(0,i.__)("Nastavenia zobrazenia","kapital"),children:[(0,b.jsx)(u.ToggleControl,{label:(0,i.__)('Tlačidlo "Zobraziť viac',"kapital"),checked:o.showMoreButton,onChange:function(e){a({showMoreButton:e})}}),"post"===o.queryPostType&&(0,b.jsx)(u.ToggleControl,{label:(0,i.__)("Zobraziť filtre","kapital"),checked:o.showFilters,help:(0,i.__)("Zobrazí linky na vybrané kategórie, alebo na dcérske kategórie aktuálnej materskej kategórie","kapital"),onChange:function(e){a({showFilters:e})}}),"post"===o.queryPostType&&"none"!==o.taxonomy&&(0,b.jsx)(u.ToggleControl,{label:(0,i.__)("Zobraziť popis kategórie","kapital"),checked:o.showDescription,help:(0,i.__)("Zobrazí linky na vybrané kategórie, alebo na dcérske kategórie aktuálnej materskej kategórie","kapital"),onChange:function(e){a({showDescription:e})}}),(0,b.jsx)(u.SelectControl,{label:(0,i.__)("Nadpis","kapital"),checked:o.showHeading,onChange:function(e){a({showHeading:e})},value:o.showHeading,options:[{label:(0,i.__)("Automaticky","kapital"),value:"auto"},{label:(0,i.__)("Manuálne","kapital"),value:"manual"},{label:(0,i.__)("Skryť","kapital"),value:"hide"}]}),(0,b.jsx)(u.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,i.__)("Úroveň nadpisu","kapital"),help:(0,i.__)("Základný level je h2 (h1 je názov stránky)","kapital"),onChange:function(e){a({headingLevel:e})},value:o.headingLevel,options:[{label:(0,i.__)("h1","kapital"),value:1},{label:(0,i.__)("h2","kapital"),value:2},{label:(0,i.__)("h3","kapital"),value:3},{label:(0,i.__)("h4","kapital"),value:4},{label:(0,i.__)("h5","kapital"),value:5},{label:(0,i.__)("h6","kapital"),value:6}]})]})]})}),"manual"===o.showHeading&&(0,b.jsx)(x,{className:"bubble-heading ff-grotesk",children:(0,b.jsx)(c.RichText,{identifier:"content",tagName:"span",name:"Podnadpis",allowedFormats:["core/italic","core/link","core/strikethrough","core/underline","core/superscript"],value:o.headingText,onChange:function(e){a({headingText:e})},placeholder:(0,i.__)("Nadpis sekcie","kapital"),disableLineBreaks:!1})}),(0,b.jsx)(p(),{skipBlockSupportAttributes:"true",block:"kapital/post-query",attributes:_(_({},o),{},{isEditor:!0,excludePost:k._kapital_featured_post})})]}))},save:function(e){return null}})}();