/******/ (() => { // webpackBootstrap
/*!*************************************************!*\
  !*** ./assets/scripts/admin-filter-selector.js ***!
  \*************************************************/
var selectElement = document.getElementById("filter-select");
var filterList = document.getElementById("filter-list");
var noItems = filterList.querySelector(".no-items");
var moveUpButtons = filterList.querySelectorAll('.move-up');
var moveDownButtons = filterList.querySelectorAll('.move-down');
var deleteButtons = filterList.querySelectorAll('.item-delete');
var optionName = document.querySelector('.kapital-post-filters-form input[name="option_page"]').value;
function addListernersDelete() {
  deleteButtons = filterList.querySelectorAll('.item-delete');
  for (var i = 0; i < deleteButtons.length; i++) {
    var button = deleteButtons[i];
    button.addEventListener("click", deleteItem);
  }
}
;
function addListernersMoveUp() {
  moveUpButtons = filterList.querySelectorAll('.move-up');
  for (var i = 0; i < moveUpButtons.length; i++) {
    var button = moveUpButtons[i];
    button.addEventListener("click", moveUp);
  }
}
function addListernersMoveDown() {
  moveUpButtons = filterList.querySelectorAll('.move-down');
  for (var i = 0; i < moveUpButtons.length; i++) {
    var button = moveUpButtons[i];
    button.addEventListener("click", moveDown);
  }
}
addListernersDelete();
addListernersMoveUp();
addListernersMoveDown();
function deleteItem(event) {
  event.preventDefault();
  event.target.closest('.filter-row').remove();
  if (filterList.children.length <= 1) {
    noItems.classList.remove("false");
  }
}
function moveUp(event) {
  event.preventDefault();
  var row = event.target.closest('.filter-row');
  var prev_row = event.target.closest('.filter-row').previousElementSibling;
  if (!prev_row.classList.contains("no-items")) {
    row.after(prev_row);
  }
  ;
}
function moveDown(event) {
  event.preventDefault();
  var row = event.target.closest('.filter-row');
  var next_row = event.target.closest('.filter-row').nextElementSibling;
  //console.log(next_row);
  if (next_row) {
    next_row.after(row);
  }
  ;
}
selectElement.addEventListener("change", renderFilterOnSelect);
function renderFilterOnSelect() {
  var text = selectElement.options[selectElement.selectedIndex].text;
  var value = event.target.value;
  filterList.innerHTML += '<tr class="filter-row"><input type="hidden" name="' + optionName + '[]" value="' + value + '"/><td><div class="filter-item">' + text + '</div></td><td><a href="" class="dashicons move-down dashicons-arrow-down-alt2"></a></td><td><a href="" class="dashicons move-up dashicons-arrow-up-alt2"></a></td><td><a href="" class="item-delete">Odstrániť filter</a></td></tr>';
  selectElement.selectedIndex = 0;
  noItems = filterList.querySelector(".no-items"); //no idea why I need to do this again
  if (filterList.children.length > 1) {
    noItems.classList.add("false");
  }
  addListernersDelete();
  addListernersMoveUp();
  addListernersMoveDown();
}
/******/ })()
;